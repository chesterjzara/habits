<!DOCTYPE html>
<html lang="en">
<head>
    <% include ../partials/head.ejs %>
    <title>Habits | Edit Habit </title>
</head>
<body>
    <% include ../partials/nav.ejs %>

    <form action="/habits/<%= habit._id %>?_method=PUT" method="POST" class="d-flex flex-row flex-wrap justify-content-center">
        <fieldset class="border w-50 p-5 d-flex flex-column">
            <legend>Edit Habit/Task</legend>
            <label>
                Name
                <input type="text" name="name" placeholder="Habit/Task Name" value="<%= habit.name %>" class="w-100">
            </label>
            <label>
                Description <br>
                <textarea name="description" placeholder="Enter a short description of the task" class="w-100"><%= habit.description %></textarea>
            </label>
            <label>
                Category/Tag
                <input type="text" name="tag" placeholder="Eg: Health, Fitness, Learning, Social, etc" value="<%= habit.tag %>" class="w-100">
            </label>
        </fieldset>
        <fieldset class="border w-50 p-5 d-flex flex-column">
            <legend>Habit Values</legend>
            <label>
                Weekly Goal
                <select class="w-100" name="weekly_goal">
                    <% for(let i = 1; i < 8; i++) { %> 
                        <option value="<%= i %>"
                            <% if(habit.weekly_goal === i) { %> selected <% } %>
                        >
                            <%= i %> time(s) per week</option>
                    <% } %>
                </select>
            </label>
            <label>
                Weight
                <input class="w-100" type="number" name="weight" value="<%= habit.weight %>">
                <P>Use weighting to indicate certain habits are more important. This will contribute to your habit adherence scoring. Leave this at 1 if you aren't sure.</P>
            </label>
        </fieldset>
        <br>
        <input type="submit" value="Update Habit" class="w-25 text-center p-3 m-5">
    </form>
</body>
</html>